<?xml version="1.0" ?>
<project name="OpenSim.Region.CoreModules" default="build">
	  <target name="build">
		  <echo message="Build Directory is ${project::get-base-directory()}/${build.dir}" />
		  <mkdir dir="${project::get-base-directory()}/${build.dir}" />
		  <csc  target="library" debug="${build.debug}" platform="${build.platform}" unsafe="True" warnaserror="False" define="TRACE;DEBUG" nostdlib="False" main="" output="${project::get-base-directory()}/${build.dir}/${project::get-name()}.dll" noconfig="true">
			  <resources prefix="OpenSim.Region.CoreModules" dynamicprefix="true" >
			  </resources>
			  <sources failonempty="true">
				  <include name="Agent/AssetTransaction/AgentAssetsTransactions.cs" />
				  <include name="Agent/AssetTransaction/AssetTransactionModule.cs" />
				  <include name="Agent/AssetTransaction/AssetXferUploader.cs" />
				  <include name="Agent/IPBan/IPBanModule.cs" />
				  <include name="Agent/IPBan/SceneBanner.cs" />
				  <include name="Agent/TextureSender/J2KDecoderModule.cs" />
				  <include name="Agent/Xfer/XferModule.cs" />
				  <include name="Asset/CenomeAssetCache.cs" />
				  <include name="Asset/CoreAssetCache.cs" />
				  <include name="Asset/FlotsamAssetCache.cs" />
				  <include name="Asset/GlynnTuckerAssetCache.cs" />
				  <include name="Avatar/Attachments/AttachmentsModule.cs" />
				  <include name="Avatar/AvatarFactory/AvatarFactoryModule.cs" />
				  <include name="Avatar/BakedTextures/XBakesModule.cs" />
				  <include name="Avatar/Chat/ChatModule.cs" />
				  <include name="Avatar/Combat/CombatModule.cs" />
				  <include name="Avatar/Commands/UserCommandsModule.cs" />
				  <include name="Avatar/Dialog/DialogModule.cs" />
				  <include name="Avatar/Friends/CallingCardModule.cs" />
				  <include name="Avatar/Friends/FriendsModule.cs" />
				  <include name="Avatar/Friends/FriendsRequestHandler.cs" />
				  <include name="Avatar/Friends/HGFriendsModule.cs" />
				  <include name="Avatar/Friends/HGStatusNotifier.cs" />
				  <include name="Avatar/Gestures/GesturesModule.cs" />
				  <include name="Avatar/Gods/GodsModule.cs" />
				  <include name="Avatar/Groups/GroupsModule.cs" />
				  <include name="Avatar/InstantMessage/HGMessageTransferModule.cs" />
				  <include name="Avatar/InstantMessage/InstantMessageModule.cs" />
				  <include name="Avatar/InstantMessage/MessageTransferModule.cs" />
				  <include name="Avatar/InstantMessage/MuteListModule.cs" />
				  <include name="Avatar/InstantMessage/OfflineMessageModule.cs" />
				  <include name="Avatar/InstantMessage/PresenceModule.cs" />
				  <include name="Avatar/Inventory/Archiver/InventoryArchiveReadRequest.cs" />
				  <include name="Avatar/Inventory/Archiver/InventoryArchiverException.cs" />
				  <include name="Avatar/Inventory/Archiver/InventoryArchiverModule.cs" />
				  <include name="Avatar/Inventory/Archiver/InventoryArchiveUtils.cs" />
				  <include name="Avatar/Inventory/Archiver/InventoryArchiveWriteRequest.cs" />
				  <include name="Avatar/Inventory/Transfer/InventoryTransferModule.cs" />
				  <include name="Avatar/Lure/HGLureModule.cs" />
				  <include name="Avatar/Lure/LureModule.cs" />
				  <include name="Avatar/Profile/BasicProfileModule.cs" />
				  <include name="Avatar/UserProfiles/UserProfileModule.cs" />
				  <include name="Framework/Caps/CapabilitiesModule.cs" />
				  <include name="Framework/DynamicAttributes/DAExampleModule.cs" />
				  <include name="Framework/DynamicAttributes/DOExampleModule.cs" />
				  <include name="Framework/EntityTransfer/EntityTransferModule.cs" />
				  <include name="Framework/EntityTransfer/EntityTransferStateMachine.cs" />
				  <include name="Framework/EntityTransfer/HGEntityTransferModule.cs" />
				  <include name="Framework/InterfaceCommander/Command.cs" />
				  <include name="Framework/InterfaceCommander/Commander.cs" />
				  <include name="Framework/InventoryAccess/HGAssetMapper.cs" />
				  <include name="Framework/InventoryAccess/HGInventoryAccessModule.cs" />
				  <include name="Framework/InventoryAccess/InventoryAccessModule.cs" />
				  <include name="Framework/Library/LibraryModule.cs" />
				  <include name="Framework/Library/LocalInventoryService.cs" />
				  <include name="Framework/Monitoring/IAlert.cs" />
				  <include name="Framework/Monitoring/IMonitor.cs" />
				  <include name="Framework/Monitoring/MonitorModule.cs" />
				  <include name="Framework/Monitoring/Alerts/DeadlockAlert.cs" />
				  <include name="Framework/Monitoring/Monitors/AgentCountMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/ChildAgentCountMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/EventFrameMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/GCMemoryMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/GenericMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/LandFrameMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/LastFrameTimeMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/ObjectCountMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/PhysicsFrameMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/PhysicsUpdateFrameMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/PWSMemoryMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/ThreadCountMonitor.cs" />
				  <include name="Framework/Monitoring/Monitors/TotalFrameMonitor.cs" />
				  <include name="Framework/Search/BasicSearchModule.cs" />
				  <include name="Framework/ServiceThrottle/ServiceThrottleModule.cs" />
				  <include name="Framework/Statistics/Logging/BinaryLoggingModule.cs" />
				  <include name="Framework/UserManagement/HGUserManagementModule.cs" />
				  <include name="Framework/UserManagement/UserManagementModule.cs" />
				  <include name="Hypergrid/HGWorldMapModule.cs" />
				  <include name="Properties/AssemblyInfo.cs" />
				  <include name="Scripting/DynamicTexture/DynamicTexture.cs" />
				  <include name="Scripting/DynamicTexture/DynamicTextureModule.cs" />
				  <include name="Scripting/EMailModules/EmailModule.cs" />
				  <include name="Scripting/HttpRequest/ScriptsHttpRequests.cs" />
				  <include name="Scripting/LoadImageURL/LoadImageURLModule.cs" />
				  <include name="Scripting/LSLHttp/UrlModule.cs" />
				  <include name="Scripting/ScriptModuleComms/ScriptModuleCommsModule.cs" />
				  <include name="Scripting/VectorRender/VectorRenderModule.cs" />
				  <include name="Scripting/WorldComm/WorldCommModule.cs" />
				  <include name="Scripting/XMLRPC/XMLRPCModule.cs" />
				  <include name="ServiceConnectorsIn/Asset/AssetServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/Authentication/AuthenticationServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/Grid/GridInfoServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/Hypergrid/HypergridServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/Inventory/InventoryServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/Land/LandServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/Login/LLLoginServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/MapImage/MapImageServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/Neighbour/NeighbourServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/Simulation/SimulationServiceInConnectorModule.cs" />
				  <include name="ServiceConnectorsIn/UserProfiles/LocalUserProfilesServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/AgentPreferences/LocalAgentPreferencesServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/AgentPreferences/RemoteAgentPreferencesServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Asset/HGAssetBroker.cs" />
				  <include name="ServiceConnectorsOut/Asset/LocalAssetServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Asset/RemoteAssetServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Authentication/LocalAuthenticationServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Authentication/RemoteAuthenticationServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Authorization/AuthorizationService.cs" />
				  <include name="ServiceConnectorsOut/Authorization/LocalAuthorizationServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Authorization/RemoteAuthorizationServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Avatar/LocalAvatarServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Avatar/RemoteAvatarServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Grid/LocalGridServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Grid/RegionInfoCache.cs" />
				  <include name="ServiceConnectorsOut/Grid/RemoteGridServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/GridUser/ActivityDetector.cs" />
				  <include name="ServiceConnectorsOut/GridUser/LocalGridUserServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/GridUser/RemoteGridUserServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Inventory/HGInventoryBroker.cs" />
				  <include name="ServiceConnectorsOut/Inventory/InventoryCache.cs" />
				  <include name="ServiceConnectorsOut/Inventory/LocalInventoryServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Inventory/RemoteXInventoryServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Land/LocalLandServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Land/RemoteLandServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/MapImage/MapImageServiceModule.cs" />
				  <include name="ServiceConnectorsOut/Neighbour/NeighbourServiceOutConnector.cs" />
				  <include name="ServiceConnectorsOut/Presence/BasePresenceServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Presence/LocalPresenceServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Presence/PresenceDetector.cs" />
				  <include name="ServiceConnectorsOut/Presence/RemotePresenceServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/Simulation/LocalSimulationConnector.cs" />
				  <include name="ServiceConnectorsOut/Simulation/RemoteSimulationConnector.cs" />
				  <include name="ServiceConnectorsOut/UserAccounts/LocalUserAccountServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/UserAccounts/RemoteUserAccountServiceConnector.cs" />
				  <include name="ServiceConnectorsOut/UserAccounts/UserAccountCache.cs" />
				  <include name="World/Access/AccessModule.cs" />
				  <include name="World/Archiver/ArchiveHelpers.cs" />
				  <include name="World/Archiver/ArchiveReadRequest.cs" />
				  <include name="World/Archiver/ArchiverModule.cs" />
				  <include name="World/Archiver/ArchiveScenesGroup.cs" />
				  <include name="World/Archiver/ArchiveWriteRequest.cs" />
				  <include name="World/Archiver/AssetsArchiver.cs" />
				  <include name="World/Archiver/AssetsDearchiver.cs" />
				  <include name="World/Archiver/AssetsRequest.cs" />
				  <include name="World/Archiver/DearchiveScenesGroup.cs" />
				  <include name="World/Cloud/CloudModule.cs" />
				  <include name="World/Estate/EstateConnector.cs" />
				  <include name="World/Estate/EstateManagementCommands.cs" />
				  <include name="World/Estate/EstateManagementModule.cs" />
				  <include name="World/Estate/EstateModule.cs" />
				  <include name="World/Estate/EstateRequestHandler.cs" />
				  <include name="World/Estate/EstateTerrainXferHandler.cs" />
				  <include name="World/Estate/TelehubManager.cs" />
				  <include name="World/Land/DwellModule.cs" />
				  <include name="World/Land/LandChannel.cs" />
				  <include name="World/Land/LandManagementModule.cs" />
				  <include name="World/Land/LandObject.cs" />
				  <include name="World/Land/PrimCountModule.cs" />
				  <include name="World/LegacyMap/IMapTileTerrainRenderer.cs" />
				  <include name="World/LegacyMap/MapImageModule.cs" />
				  <include name="World/LegacyMap/ShadedMapTileRenderer.cs" />
				  <include name="World/LegacyMap/TexturedMapTileRenderer.cs" />
				  <include name="World/LightShare/EnvironmentModule.cs" />
				  <include name="World/LightShare/LightShareModule.cs" />
				  <include name="World/Media/Moap/MoapModule.cs" />
				  <include name="World/Objects/BuySell/BuySellModule.cs" />
				  <include name="World/Objects/Commands/ObjectCommandsModule.cs" />
				  <include name="World/Permissions/PermissionsModule.cs" />
				  <include name="World/Region/RegionCommandsModule.cs" />
				  <include name="World/Region/RestartModule.cs" />
				  <include name="World/Serialiser/IFileSerialiser.cs" />
				  <include name="World/Serialiser/SerialiseObjects.cs" />
				  <include name="World/Serialiser/SerialiserModule.cs" />
				  <include name="World/Serialiser/SerialiseTerrain.cs" />
				  <include name="World/Sound/SoundModule.cs" />
				  <include name="World/Sun/SunModule.cs" />
				  <include name="World/Terrain/ITerrainFeature.cs" />
				  <include name="World/Terrain/ITerrainFloodEffect.cs" />
				  <include name="World/Terrain/ITerrainLoader.cs" />
				  <include name="World/Terrain/ITerrainModifier.cs" />
				  <include name="World/Terrain/ITerrainPaintableEffect.cs" />
				  <include name="World/Terrain/TerrainException.cs" />
				  <include name="World/Terrain/TerrainModifier.cs" />
				  <include name="World/Terrain/TerrainModifierData.cs" />
				  <include name="World/Terrain/TerrainModule.cs" />
				  <include name="World/Terrain/Effects/ChannelDigger.cs" />
				  <include name="World/Terrain/Effects/CookieCutter.cs" />
				  <include name="World/Terrain/Effects/DefaultTerrainGenerator.cs" />
				  <include name="World/Terrain/FileLoaders/BMP.cs" />
				  <include name="World/Terrain/FileLoaders/GenericSystemDrawing.cs" />
				  <include name="World/Terrain/FileLoaders/GIF.cs" />
				  <include name="World/Terrain/FileLoaders/JPEG.cs" />
				  <include name="World/Terrain/FileLoaders/LLRAW.cs" />
				  <include name="World/Terrain/FileLoaders/PNG.cs" />
				  <include name="World/Terrain/FileLoaders/RAW32.cs" />
				  <include name="World/Terrain/FileLoaders/Terragen.cs" />
				  <include name="World/Terrain/FileLoaders/TIFF.cs" />
				  <include name="World/Terrain/FloodBrushes/FlattenArea.cs" />
				  <include name="World/Terrain/FloodBrushes/LowerArea.cs" />
				  <include name="World/Terrain/FloodBrushes/NoiseArea.cs" />
				  <include name="World/Terrain/FloodBrushes/RaiseArea.cs" />
				  <include name="World/Terrain/FloodBrushes/RevertArea.cs" />
				  <include name="World/Terrain/FloodBrushes/SmoothArea.cs" />
				  <include name="World/Terrain/Modifiers/FillModifier.cs" />
				  <include name="World/Terrain/Modifiers/LowerModifier.cs" />
				  <include name="World/Terrain/Modifiers/MaxModifier.cs" />
				  <include name="World/Terrain/Modifiers/MinModifier.cs" />
				  <include name="World/Terrain/Modifiers/NoiseModifier.cs" />
				  <include name="World/Terrain/Modifiers/RaiseModifier.cs" />
				  <include name="World/Terrain/Modifiers/SmoothModifier.cs" />
				  <include name="World/Terrain/PaintBrushes/ErodeSphere.cs" />
				  <include name="World/Terrain/PaintBrushes/FlattenSphere.cs" />
				  <include name="World/Terrain/PaintBrushes/LowerSphere.cs" />
				  <include name="World/Terrain/PaintBrushes/NoiseSphere.cs" />
				  <include name="World/Terrain/PaintBrushes/OlsenSphere.cs" />
				  <include name="World/Terrain/PaintBrushes/RaiseSphere.cs" />
				  <include name="World/Terrain/PaintBrushes/RevertSphere.cs" />
				  <include name="World/Terrain/PaintBrushes/SmoothSphere.cs" />
				  <include name="World/Terrain/PaintBrushes/WeatherSphere.cs" />
				  <include name="World/Vegetation/VegetationModule.cs" />
				  <include name="World/Warp3DMap/Perlin.cs" />
				  <include name="World/Warp3DMap/TerrainSplat.cs" />
				  <include name="World/Warp3DMap/Viewport.cs" />
				  <include name="World/Warp3DMap/Warp3DImageModule.cs" />
				  <include name="World/Wind/WindModule.cs" />
				  <include name="World/Wind/Plugins/ConfigurableWind.cs" />
				  <include name="World/Wind/Plugins/SimpleRandomWind.cs" />
				  <include name="World/WorldMap/MapSearchModule.cs" />
				  <include name="World/WorldMap/WorldMapModule.cs" />
			  </sources>
			  <references basedir="${project::get-base-directory()}">
				  <lib>
					  <include name="${project::get-base-directory()}" />
					  <include name="${project::get-base-directory()}/../../../bin" />
				  </lib>
                <include name="../../../bin/CSJ2K.dll"/>
                <include name="../../../bin/DotNetOpenMail.dll"/>
                <include name="../../../bin/GlynnTucker.Cache.dll"/>
                <include name="../../../bin/Ionic.Zip.dll"/>
                <include name="../../../bin/log4net.dll"/>
                <include name="Microsoft.CSharp.dll" />
                <include name="../../../bin/Mono.Addins.dll"/>
                <include name="../../../bin/NDesk.Options.dll"/>
                <include name="../../../bin/Nini.dll"/>
                <include name="../../../bin/OpenMetaverse.dll"/>
                <include name="../../../bin/OpenMetaverse.StructuredData.dll"/>
                <include name="../../../bin/OpenMetaverseTypes.dll"/>
                <include name="OpenSim.Capabilities.dll" />
                <include name="OpenSim.Data.dll" />
                <include name="OpenSim.Framework.dll" />
                <include name="OpenSim.Framework.Console.dll" />
                <include name="OpenSim.Framework.Monitoring.dll" />
                <include name="OpenSim.Framework.Serialization.dll" />
                <include name="OpenSim.Framework.Servers.dll" />
                <include name="OpenSim.Framework.Servers.HttpServer.dll" />
                <include name="OpenSim.Region.ClientStack.LindenUDP.dll" />
                <include name="OpenSim.Region.Framework.dll" />
                <include name="OpenSim.Region.PhysicsModules.SharedBase.dll" />
                <include name="OpenSim.Server.Base.dll" />
                <include name="OpenSim.Server.Handlers.dll" />
                <include name="OpenSim.Services.Base.dll" />
                <include name="OpenSim.Services.Connectors.dll" />
                <include name="OpenSim.Services.Interfaces.dll" />
                <include name="SmartThreadPool.dll" />
                <include name="System.dll" />
                <include name="System.Core.dll" />
                <include name="System.Drawing.dll" />
                <include name="System.Web.dll" />
                <include name="System.Xml.dll" />
                <include name="System.Xml.Linq.dll" />
                <include name="../../../bin/Warp3D.dll"/>
                <include name="../../../bin/XMLRPC.dll"/>
			  </references>
		  </csc>
        <echo message="Copying from [${project::get-base-directory()}/${build.dir}/] to [${project::get-base-directory()}/../../../bin/" />
        <mkdir dir="${project::get-base-directory()}/../../../bin/"/>
        <copy todir="${project::get-base-directory()}/../../../bin/">
            <fileset basedir="${project::get-base-directory()}/${build.dir}/" >
                <include name="*.dll"/>
                <include name="*.exe"/>
                <include name="*.mdb" if='${build.debug}'/>
                <include name="*.pdb" if='${build.debug}'/>
            </fileset>
        </copy>
	  </target>
	  <target name="clean">
		  <delete dir="${bin.dir}" failonerror="false" />
		  <delete dir="${obj.dir}" failonerror="false" />
	  </target>
	  <target name="doc" description="Creates documentation.">
	  </target>
</project>
